<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta lang="en">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Behavioral patterns</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="css/slides-styles.css">
		<link rel="stylesheet" href="dist/theme/black.css" id="theme">
		<link rel="shortcut icon" href="src/img/favicon.ico" type="image/x-icon">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css" id="highlight-theme">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="src/img/background.jpg">
					<div class="data-container">
						<img class="logo" src="src/img/logo-javascript.svg" alt="logo">
						<div class="info">
							<h1>DESIGN Patterns</h1>
							<h2>Behavioral patterns</h2>
						</div>
					</div>
				</section>
				<section data-background-image="src/img/background.jpg">
					<h1>What are design patterns ?..</h1>
				</section>
				<section data-background-image="src/img/background.jpg">
					<p>
						Design patterns are advanced object-oriented solutions to commonly occurring software problems. 
					</p>
				</section>
				<section data-background-image="src/img/background.jpg">
					<h4>
						Categories of Design Patterns
					</h4>
					<img class="categories" src="src/img/design-patterns-image.png" alt="">
				</section>
				<section data-background-image="src/img/background.jpg">
					<section>
						<h5>
							Chain of Responsibility
						</h5>
						<p class="definition">
							Avoid coupling the sender of a request to its receiver by giving more than one object a chance to handle the request. 
							Chain the receiving objects and pass the request along the chain until an object handles it.
						</p>
						<div class="data-container">
							<p class="description">Frequency of use (in JavaScript):</p>
							<img src="src/img/use_medium.png" style="margin-left: 2vw;" alt="">
						</div>
						<img src="src/img/chain-of-responsibility.jpg" alt="">
					</section>
					<section>
						<div class="code-example">
							<pre><code data-trim data-noescape>
								class Account {
									setNext(account) {
										this.successor = account
									}
									pay(amountToPay) {
										if (this.canPay(amountToPay)) {
											console.log(`Paid ${amountToPay} using ${this.name}`)
										} else if (this.successor) {
											console.log(`Cannot pay using ${this.name}. Proceeding...`)
											this.successor.pay(amountToPay)
										} else {
											console.log('None of the accounts have enough balance')
										}
									}
									canPay(amount) {
										return this.balance >= amount
									}
								}
							</code></pre>
							<pre><code data-trim data-noescape>
								class Bank extends Account {
									constructor(balance) {
										super()
										this.name = 'bank'
										this.balance = balance
									}
								}	
								class Paypal extends Account {
									constructor(balance) {
										super()        
										this.name = 'Paypal'
										this.balance = balance
									}
								}
								class Bitcoin extends Account {
									constructor(balance) {
										super()        
										this.name = 'bitcoin'
										this.balance = balance
									}
								}
							</code></pre>
						</div>
					</section>
					<section>
						<pre><code data-trim data-noescape>
							// chain
							// bank->paypal->bitcoin
							// Bank has a priority
							// If Bank cannot pay, go to Paypal
							// If Paypal cannot pay, go to Bitcoin
							
							const bank = new Bank(100)          // Bank with balance 100
							const paypal = new Paypal(200)      // Paypal with balance 200
							const bitcoin = new Bitcoin(300)    // Bitcoin with balance 300
							
							bank.setNext(paypal)
							paypal.setNext(bitcoin)
							
							// Starting from Bank
							bank.pay(259)
							
							// Cannot pay using bank. Proceeding ..
							// Cannot pay using paypal. Proceeding ..: 
							// Paid 259 using Bitcoin!
						</code></pre>
					</section>
				</section>
				<section data-background-image="src/img/background.jpg">
					<section>
						<h5>
							Iterator
						</h5>
						<p class="definition">
							Provide a way to access the elements of an aggregate object sequentially 
							without exposing its underlying representation.
						</p>
						<div class="data-container">
							<p class="description">Frequency of use (in JavaScript):</p>
							<img src="src/img/use_high.png" style="margin-left: 2vw;" alt="">
						</div>
						<img src="src/img/iterator.jpg" alt="">
					</section>
					<section>
						<pre><code data-trim data-noescape>
							const range = {
								from: 1,
								to: 5
							  };
						</code></pre>
					</section>
					<section>
						<pre><code data-trim data-noescape>
							// 1. for..of at first calling this function
							range[Symbol.iterator] = function() {

							// ...then it returns iterator object:
							// 2. Next, for..of works only with this iterator, calling it for new values
							return {
								current: this.from,
								last: this.to,

								// 3. next() calls on every iteration for..of
								next() {
								// 4. it must return value {done:.., value :...}
								if (this.current <= this.last) {
									return { done: false, value: this.current++ };
								} else {
									return { done: true };
								}
							    }
							  };
							};
						</code></pre>
					</section>
					<section>
						<pre><code data-trim data-noescape>
							now it works!
							
							for (let num of range) {
							    console.log(num); -> 1, then 2, 3, 4, 5
							}
						</code></pre>
					</section>
				</section>
				<section data-background-image="src/img/background.jpg">
					<section>
						<h5>
							Observer
						</h5>
						<p class="definition">
							Define a one-to-many dependency between objects so that when one object changes state, 
							all its dependents are notified and updated automatically.
						</p>
						<div class="data-container">
							<p class="description">Frequency of use (in JavaScript):</p>
							<img src="src/img/use_high.png" style="margin-left: 2vw;" alt="">
						</div>
						<img src="src/img/observer.jpg" alt="">
					</section>
					<section>
						<pre><code data-trim data-noescape>
							const setColor = color => ({
								color: color
							})
							
							class Element {
								constructor(defaultColor) {
									this.elementName = elementName;
								}
							
								changeColor(color) {
									console.log(`${this.elementName} color has been changed to : setColor.color`);
								}
							}
						</code></pre>
					</section>
					<section>
						<pre><code data-trim data-noescape>
							class MainElement {
								constructor() {
									this.childElements = [];
								}
							
								appendChild(Element) {
									this.childElements.push(Element);
								}
							
								setColorToChildElements(setColor) {
									this.childElements.forEach(element => {
										element.changeColor(setColor);
									})
								}
							}
						</code></pre>
					</section>
					<section>
						<pre><code data-trim data-noescape>
							// create elements
							const div = new Element('div');
							const span = new Element('span');
							const section = new Element('section');
							
							// create a main element
							// append child elements
							const mainElement = new MainElement()
							mainElement.appendChild(div);
							mainElement.appendChild(span);
							mainElement.appendChild(section);
							
							// notify child elements about new color
							mainElement.setColorToChildElements(setColor('green'));
							
							// div color has been changed to : green
							// span color has been changed to : green
							// section color has been changed to : green
						</code></pre>
					</section>
				</section>
				</section>
				<section data-background-image="src/img/background.jpg">
					<div class="data-container">
						<div class="info">
							<h1>THANK YOU FOR ATTENTION !)</h1>
							<p>RSS 2020Q1 Yan-Black<p>
						</div>
					</div>
				</section>
			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
